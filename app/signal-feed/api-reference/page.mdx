---
title: API æ¥å£æ–‡æ¡£
description: Signal Feed å®Œæ•´çš„ API æ¥å£æ–‡æ¡£ï¼ŒåŒ…å«è‚¡ç¥¨æ•°æ®å’Œæ–°é—»èµ„è®¯æ¥å£
---

## API æ¥å£æ–‡æ¡£

Signal Feed æä¾›å®Œæ•´çš„é‡‘èæ•°æ® API æ¥å£ï¼Œæ”¯æŒ A è‚¡è‚¡ç¥¨æ•°æ®å’Œå¤šæ¥æºæ–°é—»èµ„è®¯ã€‚

## åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:4000/api/v1`
- **è®¤è¯æ–¹å¼**: Bearer Token (æ‰€æœ‰æ¥å£éƒ½éœ€è¦è®¤è¯)
- **æ•°æ®æ ¼å¼**: JSON
- **å“åº”æ ¼å¼**: ç»Ÿä¸€ä½¿ç”¨ TransformInterceptor æ ¼å¼åŒ–

## æ¥å£åˆ†ç±»

### ğŸ“ˆ è‚¡ç¥¨æ•°æ® (Aè‚¡)
- [è‚¡ç¥¨æ¥å£](/signal-feed/api-reference/stocks-a) - Aè‚¡è‚¡ç¥¨æ•°æ®æ¥å£
- è·å–è‚¡ç¥¨åˆ—è¡¨ã€è¯¦æƒ…ã€è¡Œæƒ…ã€ç­›é€‰å™¨ç­‰

### ğŸ“° æ–°é—»èµ„è®¯
- [æ–°é—»æ¥å£](/signal-feed/api-reference/news) - å¤šæ¥æºæ–°é—»æ•°æ®æ¥å£
- æ”¯æŒæ–°æµªã€å¯Œé€”ç‰›ç‰›ã€è´¢è”ç¤¾ã€ç™¾åº¦è‚¡å¸‚é€šç­‰æ¥æº

## é€šç”¨æŸ¥è¯¢å‚æ•°

æ‰€æœ‰æ”¯æŒåˆ†é¡µå’Œæ’åºçš„æ¥å£éƒ½æ”¯æŒä»¥ä¸‹å‚æ•°ï¼š

| å‚æ•° | ç±»å‹ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `page` | number | å¦ | 1 | é¡µç  |
| `pageSize` | number | å¦ | 20 | æ¯é¡µæ•°é‡ |
| `sortBy` | string | å¦ | - | æ’åºå­—æ®µ |
| `sortOrder` | string | å¦ | asc | æ’åºæ–¹å‘ï¼šasc(å‡åº) æˆ– desc(é™åº) |
| `fields[]` | string[] | å¦ | - | è¿”å›å­—æ®µæ•°ç»„ |

## è®¤è¯è¯´æ˜

æ‰€æœ‰ API æ¥å£éƒ½éœ€è¦é€šè¿‡ `ApiAuthGuard` è®¤è¯ï¼Œä½¿ç”¨ Bearer Token æ–¹å¼ï¼š

```http
Authorization: Bearer YOUR_API_TOKEN
```

## é”™è¯¯å¤„ç†

API ä½¿ç”¨ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼ŒåŒ…å«é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### Node.js ç¤ºä¾‹

```javascript
const API_TOKEN = 'your_api_token';
const BASE_URL = process.env.API_BASE_URL || 'http://localhost:4000/api/v1';

// åŸºç¡€è¯·æ±‚å‡½æ•°
async function apiRequest(endpoint, options = {}) {
  const response = await fetch(`${BASE_URL}${endpoint}`, {
    headers: {
      'Authorization': `Bearer ${API_TOKEN}`,
      'Content-Type': 'application/json',
      ...options.headers
    },
    ...options
  });
  
  if (!response.ok) {
    const error = await response.json();
    throw new Error(`API é”™è¯¯: ${error.message} (${error.code})`);
  }
  
  return response.json();
}

// è·å–è‚¡ç¥¨åˆ—è¡¨
async function getStockList(page = 1, pageSize = 20) {
  const params = new URLSearchParams({
    page: page.toString(),
    pageSize: pageSize.toString()
  });
  
  return apiRequest(`/stocks-a/stocks/list?${params}`);
}

// è·å–æ–°é—»åˆ—è¡¨
async function getNews(source = 'sina', page = 1, pageSize = 20) {
  const params = new URLSearchParams({
    source,
    page: page.toString(),
    pageSize: pageSize.toString()
  });
  
  return apiRequest(`/news/list?${params}`);
}

// ä½¿ç”¨ç¤ºä¾‹
async function example() {
  try {
    // è·å–è‚¡ç¥¨åˆ—è¡¨
    const stocks = await getStockList(1, 10);
    console.log('è‚¡ç¥¨åˆ—è¡¨:', stocks);
    
    // è·å–æ–°æµªæ–°é—»
    const news = await getNews('sina', 1, 10);
    console.log('æ–°é—»åˆ—è¡¨:', news);
  } catch (error) {
    console.error('API è¯·æ±‚å¤±è´¥:', error);
  }
}
```

## æ¥å£åˆ—è¡¨

### è‚¡ç¥¨æ•°æ®æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| è·å–äº¤æ˜“æ—¥æœŸ | GET | `/stocks-a/trade-dates` | è·å– A è‚¡äº¤æ˜“æ—¥æœŸ |
| è·å–è‚¡ç¥¨åˆ—è¡¨ | GET | `/stocks-a/stocks/list` | è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯åˆ—è¡¨ |
| è·å–è‚¡ç¥¨è¯¦æƒ… | GET | `/stocks-a/stocks/{code}/detail` | è·å–æŒ‡å®šè‚¡ç¥¨è¯¦ç»†ä¿¡æ¯ |
| è·å–è¡Œæƒ…åˆ—è¡¨ | GET | `/stocks-a/quotes/list` | è·å–è‚¡ç¥¨è¡Œæƒ…æ•°æ®åˆ—è¡¨ |
| è·å–è‚¡ç¥¨è¡Œæƒ… | GET | `/stocks-a/quotes/{code}/detail` | è·å–æŒ‡å®šè‚¡ç¥¨è¡Œæƒ…æ•°æ® |
| è·å–ç­›é€‰å™¨åˆ—è¡¨ | GET | `/stocks-a/screener/list` | è·å–è‚¡ç¥¨ç­›é€‰å™¨æ•°æ®åˆ—è¡¨ |
| è·å–ç­›é€‰å™¨è¯¦æƒ… | GET | `/stocks-a/screener/{code}/detail` | è·å–æŒ‡å®šè‚¡ç¥¨ç­›é€‰å™¨æ•°æ® |

### æ–°é—»èµ„è®¯æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| è·å–æ–°é—»åˆ—è¡¨ | GET | `/news/list` | è·å–å¤šæ¥æºæ–°é—»åˆ—è¡¨ |
| è·å–æ–°æµªæ–°é—» | GET | `/news/sina/list` | è·å–æ–°æµªè´¢ç»æ–°é—» |
| è·å–å¯Œé€”æ–°é—» | GET | `/news/futunn/list` | è·å–å¯Œé€”ç‰›ç‰›æ–°é—» |
| è·å–è´¢è”ç¤¾æ–°é—» | GET | `/news/cls/list` | è·å–è´¢è”ç¤¾æ–°é—» |
| è·å–ç™¾åº¦æ–°é—» | GET | `/news/baidu/list` | è·å–ç™¾åº¦è´¢ç»æ–°é—» |

## æ›´å¤šèµ„æº

- ğŸ“– [è‚¡ç¥¨æ¥å£è¯¦æƒ…](/signal-feed/api-reference/stocks-a) - Aè‚¡è‚¡ç¥¨æ•°æ®è¯¦ç»†æ¥å£
- ğŸ“– [æ–°é—»æ¥å£è¯¦æƒ…](/signal-feed/api-reference/news) - å¤šæ¥æºæ–°é—»æ•°æ®è¯¦ç»†æ¥å£
